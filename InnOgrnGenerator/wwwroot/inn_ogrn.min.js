"use strict";function init(){initialized||(initialized=!0,InnKppCalculator.initTheme(),calculators=InnKppCalculator.initCalculator(),clipboard=new ClipboardJS("input.cb-copy"))}var InnKppCalculator,calculators,clipboard;(function(t){class n{constructor(t,n,l=!1,e=[],s=null,a=null){this.threshold=n,this.defaultLen=s||n,this.force=l,this.validFirstDigits=e,this.input=document.getElementById(t),this.input.oninput=(()=>this.checkButtons()),this.button=document.getElementById(t+"button"),this.button.onclick=(()=>this.random()),this.maxlen=a||this.input.maxLength}get value(){return this.input.value}set value(t){this.input.value=t,this.input.oninput()}set cssClass(t){this.input.className=t}get buttonText(){return this.button.value}set buttonText(t){this.button.value=t}set buttonFunc(t){this.button.onclick=t}calc(t){return null==t?"":t.length<9?t:this.calcInternal(t)}random(){this.value=this.calc(this.getRandomNumber(this.value))}fix(){this.value=this.calc(this.value)}checkButtons(){let t=this.getNumbersFromString(this.value)||"";t.length<this.threshold?(this.cssClass="form-control",this.button.textContent="ðŸŽ²",this.buttonFunc=(()=>this.random())):(this.buttonFunc=(()=>this.fix()),t.length===this.maxlen||"okpo"===this.input.id?this.value===this.calc(this.value)?(this.cssClass="form-control is-valid",this.button.textContent="ðŸŽ²",this.buttonFunc=(()=>this.random())):(this.cssClass="form-control is-invalid",this.button.textContent="ðŸ”§"):(this.cssClass="form-control",this.button.textContent="ðŸ”§"))}getNumbersFromString(t){if(null==t||""===t)return t;let n="";for(var l=0;l<t.length;l++)t[l]>="0"&&t[l]<="9"&&(n+=t[l]);return n}getRandomNumber(t){let n=this.getNumbersFromString(t);(n.length>this.defaultLen||this.force)&&(n=""),this.validFirstDigits.length>0&&(n+=this.validFirstDigits[Math.floor(Math.random()*this.validFirstDigits.length)]);for(let t=n.length;t<this.defaultLen;t++)n+=Math.floor(10*Math.random());return n}}t.CalculatorBase=n})(InnKppCalculator||(InnKppCalculator={})),function(t){class n extends t.CalculatorBase{constructor(t,n){super(t,n)}calcChecksum(t,n){let l=0;for(let e=0;e<n.length;e++)l+=t[e]*n[e];return l%11%10}parseNum(t){let n=[];for(let l=0;l<t.length;l++)n.push(parseInt(t[l],10));return n}}t.CalculatorInnBase=n}(InnKppCalculator||(InnKppCalculator={})),function(t){class n extends t.CalculatorInnBase{constructor(t){super(t,10),this.coeff1=[7,2,4,10,3,5,9,4,6,8],this.coeff2=[3,7,2,4,10,3,5,9,4,6,8]}calcInternal(t){t=t.substring(0,10);const n=this.parseNum(t),l=this.calcChecksum(n,this.coeff1);n.push(l);const e=this.calcChecksum(n,this.coeff2);return t+l+e}}t.CalculatorInnFl=n}(InnKppCalculator||(InnKppCalculator={})),function(t){class n extends t.CalculatorInnBase{constructor(t){super(t,9),this.coeff=[2,4,10,3,5,9,4,6,8]}calcInternal(t){t=t.substring(0,9);const n=this.parseNum(t),l=this.calcChecksum(n,this.coeff);return t+l}}t.CalculatorInnUl=n}(InnKppCalculator||(InnKppCalculator={})),function(t){class n extends t.CalculatorBase{constructor(t){super(t,14,!1,[3,4])}calcInternal(t){t=t.substring(0,14);const n=parseInt(t,10),l=n%13%10;return t+l}}t.CalculatorOgrnFl=n}(InnKppCalculator||(InnKppCalculator={})),function(t){class n extends t.CalculatorBase{constructor(t){super(t,12,!1,[1,2,5])}calcInternal(t){t=t.substring(0,12);const n=parseInt(t,10),l=n%11%10;return t+l}}t.CalculatorOgrnUl=n}(InnKppCalculator||(InnKppCalculator={})),function(t){class n extends t.CalculatorBase{constructor(t){super(t,8,!0,[],13)}calcInternal(t){let n=0;for(let l=1;l<t.length;l++)n+=parseInt(t[l-1],10)*((l-1)%10+1);if(n%11==10){n=0;for(let l=1;l<t.length;l++)n+=parseInt(t[l-1],10)*((l+1)%10+1)}return n=n%11%10,t.substring(0,t.length-1)+n}}t.CalculatorOkpo=n}(InnKppCalculator||(InnKppCalculator={})),function(t){class n extends t.CalculatorBase{constructor(t,n){super(t,9,!1,[],10,11),this.formatCheckbox=document.getElementById(n),this.formatCheckbox.onchange=(()=>this.reformat())}calcInternal(t){let n=t;if(t=this.getNumbersFromString(t),t.length<9)return n;if(n=t,t=t.substring(0,9),parseInt(t,10)<1001999)return this.format(`${n}00`);let l=0;for(let n=9;n>0;n--)l+=parseInt(t[9-n])*n;return l>101&&(l%=101),100!==l&&101!==l||(l=0),this.format(t+(l<10?`0${l}`:l))}format(t){if(t=this.getNumbersFromString(t),t.length<11)return t;if(!this.formatCheckbox.checked)return t;const n=t.substring(0,3),l=t.substring(3,6),e=t.substring(6,9),s=t.substring(9,11);return`${n}-${l}-${e} ${s}`}reformat(){this.value=this.format(this.value)}}t.CalculatorSnils=n}(InnKppCalculator||(InnKppCalculator={})),function(t){function n(){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.setAttribute("data-bs-theme",t)}function l(){n(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",n)}t.initTheme=l}(InnKppCalculator||(InnKppCalculator={})),function(t){function n(){return[new t.CalculatorInnUl("innul"),new t.CalculatorInnFl("innfl"),new t.CalculatorOgrnUl("ogrnul"),new t.CalculatorOgrnFl("ogrnfl"),new t.CalculatorOkpo("okpo"),new t.CalculatorSnils("snils","format_snils")]}t.initCalculator=n}(InnKppCalculator||(InnKppCalculator={}));var initialized=!1;document.addEventListener("DOMContentLoaded",init),window.addEventListener("load",init);