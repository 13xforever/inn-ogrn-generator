function init(){initialized||(calculators=InnKppCalculator.init(),clipboard=new Clipboard("input.cb-copy"),initialized=!0)}var InnKppCalculator,calculators,clipboard,initialized;(function(n){class t{constructor(n,t,i=false,r=[],u=null,f=null){this.threshold=t;this.defaultLen=u||t;this.force=i;this.validFirstDigits=r;this.input=document.getElementById(n);this.input.oninput=()=>this.checkButtons();this.button=document.getElementById(n+"button");this.button.onclick=()=>this.random();this.maxlen=f||this.input.maxLength}get value(){return this.input.value}set value(n){this.input.value=n;this.input.oninput()}set cssClass(n){this.input.className=n}get buttonText(){return this.button.value}set buttonText(n){this.button.value=n}set buttonFunc(n){this.button.onclick=n}calc(n){return n==null?"":n.length<9?n:this.calcInternal(n)}random(){this.value=this.calc(this.getRandomNumber(this.value))}fix(){this.value=this.calc(this.value)}checkButtons(){let n=this.getNumbersFromString(this.value)||"";n.length<this.threshold?(this.cssClass="",this.buttonText="Random",this.buttonFunc=()=>this.random()):(this.buttonFunc=()=>this.fix(),n.length===this.maxlen||this.input.id==="okpo"?this.value===this.calc(this.value)?(this.cssClass="glowGreen",this.buttonText="Random",this.buttonFunc=()=>this.random()):(this.cssClass="glowRed",this.buttonText="Fix"):(this.cssClass="",this.buttonText="Fix"))}getNumbersFromString(n){if(n==null||n==="")return n;let i="";for(var t=0;t<n.length;t++)n[t]>="0"&&n[t]<="9"&&(i+=n[t]);return i}getRandomNumber(n){let t=this.getNumbersFromString(n);(t.length>this.defaultLen||this.force)&&(t="");this.validFirstDigits.length>0&&(t+=this.validFirstDigits[Math.floor(Math.random()*this.validFirstDigits.length)]);for(let n=t.length;n<this.defaultLen;n++)t+=Math.floor(Math.random()*10);return t}}n.CalculatorBase=t})(InnKppCalculator||(InnKppCalculator={})),function(n){class t extends n.CalculatorBase{constructor(n){super(n,10)}calcInternal(n){n=n.substr(0,10);const t=parseInt(n[0],10),i=parseInt(n[1],10),r=parseInt(n[2],10),u=parseInt(n[3],10),f=parseInt(n[4],10),e=parseInt(n[5],10),o=parseInt(n[6],10),s=parseInt(n[7],10),h=parseInt(n[8],10),c=parseInt(n[9],10),l=(t*7+i*2+r*4+u*10+f*3+e*5+o*9+s*4+h*6+c*8)%11%10,a=(t*3+i*7+r*2+u*4+f*10+e*3+o*5+s*9+h*4+c*6+l*8)%11%10;return n+l+a}}n.CalculatorInnFl=t}(InnKppCalculator||(InnKppCalculator={})),function(n){class t extends n.CalculatorBase{constructor(n){super(n,9)}calcInternal(n){n=n.substr(0,9);const t=parseInt(n[0],10),i=parseInt(n[1],10),r=parseInt(n[2],10),u=parseInt(n[3],10),f=parseInt(n[4],10),e=parseInt(n[5],10),o=parseInt(n[6],10),s=parseInt(n[7],10),h=parseInt(n[8],10),c=(t*2+i*4+r*10+u*3+f*5+e*9+o*4+s*6+h*8)%11%10;return n+c}}n.CalculatorInnUl=t}(InnKppCalculator||(InnKppCalculator={})),function(n){class t extends n.CalculatorBase{constructor(n){super(n,14,!1,[3,4])}calcInternal(n){n=n.substr(0,14);const t=parseInt(n,10),i=t%13%10;return n+i}}n.CalculatorOgrnFl=t}(InnKppCalculator||(InnKppCalculator={})),function(n){class t extends n.CalculatorBase{constructor(n){super(n,12,!1,[1,2,5])}calcInternal(n){n=n.substr(0,12);const t=parseInt(n,10),i=t%11%10;return n+i}}n.CalculatorOgrnUl=t}(InnKppCalculator||(InnKppCalculator={})),function(n){class t extends n.CalculatorBase{constructor(n){super(n,8,!0,[],13)}calcInternal(n){let t=0;for(let i=1;i<n.length;i++)t+=parseInt(n[i-1],10)*((i-1)%10+1);if(t%11==10){t=0;for(let i=1;i<n.length;i++)t+=parseInt(n[i-1],10)*((i+1)%10+1)}return t=t%11%10,n.substr(0,n.length-1)+t}}n.CalculatorOkpo=t}(InnKppCalculator||(InnKppCalculator={})),function(n){class t extends n.CalculatorBase{constructor(n,t){super(n,9,!1,[],10,11);this.formatCheckbox=document.getElementById(t);this.formatCheckbox.onchange=()=>this.reformatSnils()}calcInternal(n){let i=n;if(n=this.getNumbersFromString(n),n.length<9)return i;if(i=n,n=n.substr(0,9),parseInt(n,10)<1001999)return this.formatSnils(i+"00");let t=0;for(let i=9;i>0;i--)t+=parseInt(n[9-i])*i;return t>101&&(t=t%101),(t===100||t===101)&&(t=0),this.formatSnils(n+(t<10?`0${t}`:t))}formatSnils(n){if((n=this.getNumbersFromString(n),n.length<11)||!this.formatCheckbox.checked)return n;const t=n.substr(0,3),i=n.substr(3,3),r=n.substr(6,3),u=n.substr(9,2);return`${t}-${i}-${r} ${u}`}reformatSnils(){this.value=this.formatSnils(this.value)}}n.CalculatorSnils=t}(InnKppCalculator||(InnKppCalculator={})),function(n){function t(){return[new n.CalculatorInnUl("innul"),new n.CalculatorInnFl("innfl"),new n.CalculatorOgrnUl("ogrnul"),new n.CalculatorOgrnFl("ogrnfl"),new n.CalculatorOkpo("okpo"),new n.CalculatorSnils("snils","format_snils")]}n.init=t}(InnKppCalculator||(InnKppCalculator={}));initialized=!1;document.addEventListener("DOMContentLoaded",()=>init("DOMContentLoaded"));window.addEventListener("load",()=>init("load"));